<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>ğŸ‰ Fruit Ninja â€” Hand Tracking Shooting Game</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <!-- BACK TO HUB -->
    <button id="back-to-hub">
        <span class="back-arrow">â†</span> GAMES
    </button>

    <!-- WEBCAM PREVIEW (small corner) -->
    <div id="webcam-preview">
        <video id="preview-cam" autoplay playsinline muted></video>
    </div>

    <!-- PALM CURSOR (for menu navigation) -->
    <div id="palm-cursor">
        <div class="cursor-fill"></div>
    </div>

    <!-- GAME CANVAS -->
    <canvas id="game-canvas"></canvas>

    <!-- HUD -->
    <div id="hud">
        <div id="score-display">0</div>
        <div id="high-score">BEST: 0</div>
        <div id="combo-display" class="hidden"></div>
        <div id="lives-display">
            <span class="life">â¤ï¸</span>
            <span class="life">â¤ï¸</span>
            <span class="life">â¤ï¸</span>
        </div>
    </div>

    <!-- DETECTION QUALITY -->
    <div id="detection-quality">
        <div class="quality-dot" id="quality-dot"></div>
        <span id="quality-text">TRACKING</span>
    </div>

    <!-- START SCREEN -->
    <div id="start-screen">
        <div id="start-content">
            <div id="game-title">ğŸ‰ FRUIT NINJA</div>
            <div id="game-subtitle">Shoot with your hands</div>
            <div id="start-instructions">
                <p>âœŒï¸ <strong>Point 2 fingers</strong> â€” Aim ring crosshair</p>
                <p>ï¿½ï¸ <strong>Open palm</strong> â€” Navigate menus</p>
                <p>ï¿½ <strong>Two hands</strong> â€” Overlap rings for 3Ã— blast</p>
                <p>ğŸ’£ <strong>Dodge bombs</strong> â€” They end the game</p>
            </div>
            <button id="start-btn" disabled>â³ Loading Camera...</button>
            <div id="camera-status">ğŸ“· Initializing hand tracker...</div>
        </div>
    </div>

    <!-- GAME OVER SCREEN -->
    <div id="gameover-screen" class="hidden">
        <div id="go-content">
            <div id="go-title">GAME OVER</div>
            <div id="go-score"></div>
            <div id="go-best"></div>
            <div id="go-message"></div>
            <div id="go-stats"></div>
            <button id="restart-btn">ğŸ‰ PLAY AGAIN</button>
        </div>
    </div>

    <!-- NEW MediaPipe Tasks Vision API -->
    <script type="module">
        import { FilesetResolver, HandLandmarker } from
            'https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/vision_bundle.mjs';
        window.FilesetResolver = FilesetResolver;
        window.HandLandmarker = HandLandmarker;
    </script>
    <script defer src="fruit-ninja.js"></script>

    <script>
        document.getElementById('back-to-hub').addEventListener('click', () => {
            window.location.href = '../../index.html';
        });
    </script>
</body>

</html>